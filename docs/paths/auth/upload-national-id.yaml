post:
  tags:
    - Auth
  summary: Submit National ID for verification
  description: >
    Links previously uploaded files (front and back images) to a new `NationalIdValidation` record for admin review.
    The files must be uploaded first via the file upload endpoint to get their IDs.
  requestBody:
    required: true
    content:
      application/json:
        schema:
          type: object
          required:
            - userEmail
            - frontImageId
            - nationalIdNumber
          properties:
            userEmail:
              type: string
              format: email
              example: user@example.com
              description: Email of the user whose ID is being submitted.
            frontImageId:
              type: string
              example: "b9f2c1a6-4b3f-4e14-9d5a-5c8f6a73a6a2"
              description: ID of the file representing the front image of the National ID.
            backImageId:
              type: string
              example: "a4d0a5cd-3fcb-45ad-8e3b-37b0ff3bbd21"
              description: ID of the file representing the back image of the National ID (optional).
            nationalIdNumber:
              type: string
              example: "29809162501234"
              description: The user's national ID number.
  responses:
    "200":
      description: National ID submission created successfully
      content:
        application/json:
          schema:
            type: object
            properties:
              message:
                type: string
                example: National ID submitted successfully
              validation:
                type: object
                properties:
                  id:
                    type: integer
                    example: 12
                  userId:
                    type: integer
                    example: 5
                  frontImageId:
                    type: string
                    example: "b9f2c1a6-4b3f-4e14-9d5a-5c8f6a73a6a2"
                  backImageId:
                    type: string
                    example: "a4d0a5cd-3fcb-45ad-8e3b-37b0ff3bbd21"
                  nationalIdNumber:
                    type: string
                    example: "29809162501234"
                  status:
                    type: string
                    enum: [PENDING, APPROVED, REJECTED]
                    example: PENDING
    "400":
      description: Missing or invalid file IDs
      content:
        application/json:
          schema:
            type: object
            properties:
              error:
                type: string
                example: Front image file not found
    "404":
      description: User not found
      content:
        application/json:
          schema:
            type: object
            properties:
              error:
                type: string
                example: User Not Found
